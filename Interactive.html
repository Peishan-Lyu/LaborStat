
<!DOCTYPE html\>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Interactive</title>
    <script src="https://d3js.org/d3.v7.js">  </script>
    <style>
      * {
        font-family: Times New Roman;
      }
      text {
        font-size: 12px;
      }
      div.tooltip {
        fill = blue;
      }
      circle {
        fill: #00a4ff
      }
      circle:hover {
        fill: #ffb900;
      }
    </style>
  </head>
  <body>
    <div>
      <h3>  Birth Rate, Death Rate and Population Growth Across different Regions</h3>
      <p> <i> When you hover over on the points, you can see the exact number of birth rate, death rate and population growth</i></p>
    </div>
    
    <div id = "options">
    <form id="options" action="" class="radioButtons">
      <input type="radio" name="options" id = "birthrate" value="B" checked="true"checked>Brith Rate
      <input type="radio" name="options" id = "deathrate" value="D">Death Rate
      <input type="radio" name="options" id = "populationgrowth" value="P">Population Growth
    
    </form>
    </div>
    
    
    <script type="text/javascript">
    
    
    
    d3.select("body").select("svg").remove();
        var w = 850;
        var h = 500;
        var margin = {top: 25, right: 100, bottom: 50, left: 250};
        var innerHeight = h - margin.top - margin.bottom;
        var innerWidth = w - margin.left - margin.right;
    
        // create SVG element
        var svg = d3.select("body")
          .append("svg")
          .attr("width", w)
          .attr("height", h)
    
        // create background rectangle
       svg.append("rect")
          .attr("width", w)
          .attr("height", h)
          .attr("fill", "#e1e1e1");
    
        // create plot group  
        svg.append("g")
          .attr("id", "plot")
          .attr("transform", `translate (${margin.left}, ${margin.top})`);
    
    
        //Dataset
        var data = [
          {"country_name":"Least developed countries: UN classification",
          "rbirth": 45.662,
          "rdeath": 18.008,
          "gpop": 2.533
        },
          {"country_name":"OECD members",
          "rbirth": 17.489,
          "rdeath": 9.006,
          "gpop": 0.938
        },
          {"country_name":"Low income",
          "rbirth": 46.272,
          "rdeath": 18.096,
          "gpop": 2.515
        },
          {"country_name":"Lower middle income",
          "rbirth": 37.326,
          "rdeath": 12.917,
          "gpop": 2.463
        },
          {"country_name":"Middle income",
          "rbirth": 29.551,
          "rdeath": 10.101,
          "gpop": 1.967
        },
          {"country_name":"Upper middle income",
          "rbirth": 22.060,
          "rdeath": 7.388,
          "gpop": 1.496
        },
          {"country_name":"High income",
          "rbirth": 15.603,
          "rdeath": 9.034,
          "gpop": 0.821
        }
        ]
      
    
        // ADD: create scales
        var xScale = d3.scaleLinear()
          .domain([0, 50])
          .range([0, innerWidth-100]);

        var yScale = d3.scaleBand()
          .domain(["Least developed countries: UN classification", "OECD members", "Low income", "Lower middle income", "Middle income", "Upper middle income", "High income"])
          .range([0, innerHeight]);
      
        var xAxis = d3.axisBottom().scale(xScale);

        var yAxis = d3.axisLeft().scale(yScale);
    
        svg.append("g")
          .attr("class", "xAxis")
          .attr("transform", `translate (${margin.left}, ${h - margin.bottom})`).call(xAxis);
    
        svg.append("g")
          .attr("class", "yAxis")
          .attr("transform", `translate (${margin.left}, ${margin.top})`)
          .call(yAxis);


        // ADD: create plot group 
        var plot = svg.append("g")
          .attr("id", "plot")
          .attr("transform", `translate (${margin.left}, ${yScale.bandwidth()/2 + margin.top})`)
          .selectAll("circle", "line");
      
    
        // ADD: create grid lines
        plot.data(data)
          .enter()
          .append("line")
          .attr("x1", d => 0)
          .attr("y1", d => yScale(d.country_name))
          .attr("x2", d => innerWidth - 100)
          .attr("y2", d => yScale(d.country_name))
          .attr("stroke", "grey")
          .attr("stroke-width", 0.5);
    
        // ADD: create circles
        plot.data(data)
          .enter()
          .append("circle")
          .attr("cx", d => xScale(d.rbirth))
          .attr("cy", d => yScale(d.country_name) )
          .attr("r", 2.5)
          .on("mouseover", function(event, d) {
            var xcoord = +d3.select(event.currentTarget).attr("cx") + 5
            var ycoord = +d3.select(event.currentTarget).attr("cy") - 5
            svg.select("g#plot")
              .append("text")
              .attr("id", "tooltip")
              .attr("x", xcoord)
              .attr("y", ycoord)
              .text(d.rbirth);
                 })
          .on("mouseout", function() {
              d3.select("#tooltip").remove();
                 }
                 );
        // ADD: create caption
        d3.select("body")
          .append("div")
          .style("padding", "10px")
          .append("a")
          .attr("href", "https://databank.worldbank.org/source/health-nutrition-and-population-statistics")
          .text("Data source:  World Bank’s database “Health Nutrition and Population Statistics”");
          
          
        </script>
    </body>
</html>
      